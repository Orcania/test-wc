{"version":3,"sources":["helpers/api.ts","engines/ethereum.ts","engines/index.ts","config/index.ts","config/assets/walletconnect-logo.png","controllers/wallet.ts","controllers/index.ts","controllers/store.ts","helpers/utilities.ts","constants/default.ts","styles.ts","components/Loader.tsx","components/Button.tsx","components/Card.tsx","components/Input.tsx","components/Blockie.tsx","components/Header.tsx","components/Column.tsx","components/PeerMeta.tsx","components/RequestDisplay.tsx","components/RequestButton.tsx","components/ClickOutside.tsx","components/Dropdown.tsx","components/AccountDetails.tsx","components/QRCodeScanner.tsx","App.tsx","index.tsx","helpers/local.ts","constants/chains.ts","constants/index.ts"],"names":["api","axios_default","a","create","baseURL","timeout","headers","Accept","Content-Type","apiGetCustomRequest","chainId","customRpc","Object","tslib_es6","Promise","post","response","_a","sent","data","result","engines_ethereum","filter","payload","method","startsWith","router","state","setState","connector","esm","includes","approveRequest","id","rejectRequest","error","message","requests","push","render","params","label","value","from","to","gas","gasLimit","gasPrice","nonce","utilities","JSON","stringify","signer","address","activeIndex","errorMsg","controllers","wallet","isActive","init","_b","transaction","dataToSign","addressRequested","toLowerCase","sendTransaction","signTransaction","signMessage","signPersonalMessage","signTypedData","RpcEngine","engines","this","prototype","getEngine","match","engine","length","Error","__webpack_require__","d","__webpack_exports__","getAppConfig","appConfig","name","logo","walletconnect_logo_default","constants","derivationPath","numberOfAccounts","colors","defaultColor","backgroundColor","chains","styleOpts","showPasteUri","showVersion","rpcEngine","events","resolve","update","module","exports","p","WalletController","_constants_default__WEBPACK_IMPORTED_MODULE_5__","activeChainId","path","getPath","entropy","getEntropy","mnemonic","getMnemonic","defineProperty","provider","getIndex","getWallet","index","getAccounts","count","_config__WEBPACK_IMPORTED_MODULE_6__","accounts","i","generateWallet","getData","key","_helpers_local__WEBPACK_IMPORTED_MODULE_4__","generateEntropy","generateMnemonic","ethers__WEBPACK_IMPORTED_MODULE_1__","hexlify","randomBytes","entropyToMnemonic","fromMnemonic","rpcUrl","_helpers_utilities__WEBPACK_IMPORTED_MODULE_3__","rpc_url","JsonRpcProvider","connect","populateTransaction","tx","assign","getAddress","toHexString","console","err_1","hash","SigningKey","privateKey","signDigest","arrayify","sigParams","joinSignature","isHexString","eth_sig_util__WEBPACK_IMPORTED_MODULE_2__","Buffer","slice","parse","getWalletController","store_StoreController","StoreController","set","local","get","remove","setupAppControllers","controllers_wallet","store","getAppControllers","_controllers","ellipseAddress","width","payloadId","Date","getTime","Math","pow","floor","random","getChainData","chainData","_constants__WEBPACK_IMPORTED_MODULE_2__","chain","chain_id","API_KEY","replace","tslib__WEBPACK_IMPORTED_MODULE_0__","getViewportDimensions","w","window","document","e","documentElement","g","getElementsByTagName","x","innerWidth","clientWidth","y","innerHeight","clientHeight","convertHexToUtf8IfPossible","hex","_walletconnect_utils__WEBPACK_IMPORTED_MODULE_1__","getCachedSession","localStorage","getItem","session","ETH_STANDARD_PATH","ENTROPY_KEY","MNEMONIC_KEY","DEFAULT_ACTIVE_INDEX","MAINNET_CHAIN_ID","DEFAULT_CHAIN_ID","white","black","dark","grey","darkGrey","lightGrey","blue","lightBlue","yellow","orange","green","pink","red","purple","config","fonts","tiny","small","medium","large","h1","h2","h3","h4","h5","h6","normal","semibold","bold","extrabold","transitions","shadows","responsive","min","max","globalStyle","OpenSans","load","styled_components_browser_esm","templateObject_1","SLoader","div","templateObject_2","size","color","background","Loader","props","react","defaultProps","components_Loader","SIcon","Button_templateObject_1","SHoverLayer","Button_templateObject_2","SButton","button","templateObject_3","outline","icon","left","disabled","Button","type","fetching","children","components_Button","SCard","Card_templateObject_1","maxWidth","Card","components_Card","SInput","input","Input_templateObject_1","components_Input","SBlockieWrapper","Blockie_templateObject_1","Blockie","seed","imgUrl","cjs","toDataURL","src","alt","components_Blockie","SHeader","Header_templateObject_1","SActiveAccount","Header_templateObject_2","SActiveChain","Header_templateObject_3","SAddress","templateObject_4","connected","SBlockie","templateObject_5","SDisconnect","templateObject_6","components_Header","killSession","activeChain","onClick","SColumn","Column_templateObject_1","components_Column","PeerMeta_SIcon","img","PeerMeta_templateObject_1","SCenter","PeerMeta_templateObject_2","SName","PeerMeta_templateObject_3","components_PeerMeta","peerMeta","icons","description","url","SRequestValues","RequestDisplay_templateObject_1","SConnectedPeer","RequestDisplay_templateObject_2","SActions","RequestDisplay_templateObject_3","components_RequestDisplay","_super","RequestDisplay","renderPayload","log","map","param","SRequestButton","RequestButton_templateObject_1","components_RequestButton","components_ClickOutside","ClickOutside","_this","apply","arguments","isTouch","handle","event","onClickOutside","element","contains","target","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","ref","c","propTypes","prop_types","isRequired","SDropdown","Dropdown_templateObject_1","monospace","SRow","Dropdown_templateObject_2","selected","show","SAbsolute","Dropdown_templateObject_3","components_Dropdown","Dropdown","optionsDict","otherKeys","parseKeys","targetKey","options","Array","isArray","forEach","option","optionKey","keys","toggleDropdown","onChange","componentDidUpdate","prevProps","displayKey","otherKey","idx","SSection","AccountDetails_templateObject_1","AccountDetails_SBlockie","AccountDetails_templateObject_2","SAddressDropdownWrapper","AccountDetails_templateObject_3","components_AccountDetails","updateAddress","updateChain","windowWidth","ellipseLength","accountsMap","addr","display_address","SQRCodeScannerContainer","QRCodeScanner_templateObject_1","SQRCodeScannerWrapper","QRCodeScanner_templateObject_2","SCloseButton","QRCodeScanner_templateObject_3","SFirstLine","QRCodeScanner_templateObject_4","SSecondLine","QRCodeScanner_templateObject_5","components_QRCodeScanner","QRCodeScanner","delay","stopRecording","handleScan","onValidate","onScan","handleError","onError","onClose","error_1","lib_default","style","SContainer","App_templateObject_1","SVersionNumber","App_templateObject_2","SContent","App_templateObject_3","SLogo","App_templateObject_4","App_SActions","App_templateObject_5","SActionsColumn","App_templateObject_6","App_SButton","templateObject_7","App_SInput","templateObject_8","App_SConnectedPeer","templateObject_9","App_SRequestButton","templateObject_10","DEFAULT_ACCOUNTS","DEFAULT_ADDRESS","constants_default","INITIAL_STATE","loading","scanner","uri","ssl","results","src_App","App","call","indexOf","subscribeToEvents","bindedSetState","newState","initWalletConnect","createSession","approveSession","rejectSession","resetApp","on","updateSession","sessionParams","newChainId","newActiveIndex","Number","toggleScanner","onQRCodeValidate","res","onQRCodeScan","onURIPaste","onQRCodeError","onQRCodeClose","openRequest","request","_c","closeRequest","filteredRequests","error_2","placeholder","GlobalStyle","src_templateObject_1","react_dom","getElementById","setLocal","jsonData","setItem","getLocal","raw","removeLocal","removeItem","SUPPORTED_CHAINS","short_name","network","network_id","native_currency","symbol","decimals","contractAddress","balance"],"mappings":"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","file":"static/js/main.1097db92.chunk.js","sourcesContent":["import axios, { AxiosInstance } from \"axios\";\r\nimport { IJsonRpcRequest } from \"@walletconnect/types\";\r\nimport { IAssetData, IGasPrices, IParsedTx } from \"./types\";\r\nimport { payloadId, getChainData } from \"./utilities\";\r\n\r\nconst api: AxiosInstance = axios.create({\r\n  baseURL: \"https://ethereum-api.xyz\",\r\n  timeout: 30000, // 30 secs\r\n  headers: {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const apiSendTransaction = async (txParams: any, chainId: number): Promise<number> => {\r\n  const rpcUrl = getChainData(chainId).rpc_url;\r\n\r\n  if (!rpcUrl && typeof rpcUrl !== \"string\") {\r\n    throw new Error(\"Invalid or missing rpc url\");\r\n  }\r\n\r\n  const response = await axios.post(rpcUrl, {\r\n    jsonrpc: \"2.0\",\r\n    id: payloadId(),\r\n    method: \"eth_sendTransaction\",\r\n    params: [txParams],\r\n  });\r\n\r\n  const result = response.data.result;\r\n  return result;\r\n};\r\n\r\nexport async function apiGetAccountAssets(address: string, chainId: number): Promise<IAssetData[]> {\r\n  const response = await api.get(`/account-assets?address=${address}&chainId=${chainId}`);\r\n  const { result } = response.data;\r\n  return result;\r\n}\r\n\r\nexport async function apiGetAccountTransactions(\r\n  address: string,\r\n  chainId: number,\r\n): Promise<IParsedTx[]> {\r\n  const response = await api.get(`/account-transactions?address=${address}&chainId=${chainId}`);\r\n  const { result } = response.data;\r\n  return result;\r\n}\r\n\r\nexport const apiGetAccountNonce = async (address: string, chainId: number): Promise<string> => {\r\n  const response = await api.get(`/account-nonce?address=${address}&chainId=${chainId}`);\r\n  const { result } = response.data;\r\n  return result;\r\n};\r\n\r\nexport const apiGetGasPrices = async (): Promise<IGasPrices> => {\r\n  const response = await api.get(`/gas-prices`);\r\n  const { result } = response.data;\r\n  return result;\r\n};\r\n\r\nexport const apiGetBlockNumber = async (chainId: number): Promise<IGasPrices> => {\r\n  const response = await api.get(`/block-number?chainId=${chainId}`);\r\n  const { result } = response.data;\r\n  return result;\r\n};\r\n\r\nexport const apiGetCustomRequest = async (\r\n  chainId: number,\r\n  customRpc: Partial<IJsonRpcRequest>,\r\n): Promise<any> => {\r\n  const response = await api.post(`config-request?chainId=${chainId}`, customRpc);\r\n  const { result } = response.data;\r\n  return result;\r\n};\r\n","import { signingMethods, convertHexToNumber } from \"@walletconnect/utils\";\r\n\r\nimport { IAppState } from \"../App\";\r\nimport { apiGetCustomRequest } from \"../helpers/api\";\r\nimport { convertHexToUtf8IfPossible } from \"../helpers/utilities\";\r\nimport { IRequestRenderParams, IRpcEngine } from \"../helpers/types\";\r\nimport { getAppControllers } from \"../controllers\";\r\n\r\nexport function filterEthereumRequests(payload: any) {\r\n  return (\r\n    payload.method.startsWith(\"eth_\") ||\r\n    payload.method.startsWith(\"net_\") ||\r\n    payload.method.startsWith(\"shh_\") ||\r\n    payload.method.startsWith(\"personal_\") ||\r\n    payload.method.startsWith(\"wallet_\")\r\n  );\r\n}\r\n\r\nexport async function routeEthereumRequests(payload: any, state: IAppState, setState: any) {\r\n  if (!state.connector) {\r\n    return;\r\n  }\r\n  const { chainId, connector } = state;\r\n  if (!signingMethods.includes(payload.method)) {\r\n    try {\r\n      const result = await apiGetCustomRequest(chainId, payload);\r\n      connector.approveRequest({\r\n        id: payload.id,\r\n        result,\r\n      });\r\n    } catch (error) {\r\n      return connector.rejectRequest({\r\n        id: payload.id,\r\n        error: { message: \"JSON RPC method not supported\" },\r\n      });\r\n    }\r\n  } else {\r\n    const requests = state.requests;\r\n    requests.push(payload);\r\n    await setState({ requests });\r\n  }\r\n}\r\n\r\nexport function renderEthereumRequests(payload: any): IRequestRenderParams[] {\r\n  let params = [{ label: \"Method\", value: payload.method }];\r\n\r\n  switch (payload.method) {\r\n    case \"eth_sendTransaction\":\r\n    case \"eth_signTransaction\":\r\n      params = [\r\n        ...params,\r\n        { label: \"From\", value: payload.params[0].from },\r\n        { label: \"To\", value: payload.params[0].to },\r\n        {\r\n          label: \"Gas Limit\",\r\n          value: payload.params[0].gas\r\n            ? convertHexToNumber(payload.params[0].gas)\r\n            : payload.params[0].gasLimit\r\n            ? convertHexToNumber(payload.params[0].gasLimit)\r\n            : \"\",\r\n        },\r\n        {\r\n          label: \"Gas Price\",\r\n          value: convertHexToNumber(payload.params[0].gasPrice),\r\n        },\r\n        {\r\n          label: \"Nonce\",\r\n          value: convertHexToNumber(payload.params[0].nonce),\r\n        },\r\n        {\r\n          label: \"Value\",\r\n          value: payload.params[0].value ? convertHexToNumber(payload.params[0].value) : \"\",\r\n        },\r\n        { label: \"Data\", value: payload.params[0].data },\r\n      ];\r\n      break;\r\n\r\n    case \"eth_sign\":\r\n      params = [\r\n        ...params,\r\n        { label: \"Address\", value: payload.params[0] },\r\n        { label: \"Message\", value: payload.params[1] },\r\n      ];\r\n      break;\r\n    case \"personal_sign\":\r\n      params = [\r\n        ...params,\r\n        { label: \"Address\", value: payload.params[1] },\r\n        {\r\n          label: \"Message\",\r\n          value: convertHexToUtf8IfPossible(payload.params[0]),\r\n        },\r\n      ];\r\n      break;\r\n    default:\r\n      params = [\r\n        ...params,\r\n        {\r\n          label: \"params\",\r\n          value: JSON.stringify(payload.params, null, \"\\t\"),\r\n        },\r\n      ];\r\n      break;\r\n  }\r\n  return params;\r\n}\r\n\r\nexport async function signEthereumRequests(payload: any, state: IAppState, setState: any) {\r\n  const { connector, address, activeIndex, chainId } = state;\r\n\r\n  let errorMsg = \"\";\r\n  let result = null;\r\n\r\n  if (connector) {\r\n    if (!getAppControllers().wallet.isActive()) {\r\n      await getAppControllers().wallet.init(activeIndex, chainId);\r\n    }\r\n\r\n    let transaction = null;\r\n    let dataToSign = null;\r\n    let addressRequested = null;\r\n\r\n    switch (payload.method) {\r\n      case \"eth_sendTransaction\":\r\n        transaction = payload.params[0];\r\n        addressRequested = transaction.from;\r\n        if (address.toLowerCase() === addressRequested.toLowerCase()) {\r\n          result = await getAppControllers().wallet.sendTransaction(transaction);\r\n        } else {\r\n          errorMsg = \"Address requested does not match active account\";\r\n        }\r\n        break;\r\n      case \"eth_signTransaction\":\r\n        transaction = payload.params[0];\r\n        addressRequested = transaction.from;\r\n        if (address.toLowerCase() === addressRequested.toLowerCase()) {\r\n          result = await getAppControllers().wallet.signTransaction(transaction);\r\n        } else {\r\n          errorMsg = \"Address requested does not match active account\";\r\n        }\r\n        break;\r\n      case \"eth_sign\":\r\n        dataToSign = payload.params[1];\r\n        addressRequested = payload.params[0];\r\n        if (address.toLowerCase() === addressRequested.toLowerCase()) {\r\n          result = await getAppControllers().wallet.signMessage(dataToSign);\r\n        } else {\r\n          errorMsg = \"Address requested does not match active account\";\r\n        }\r\n        break;\r\n      case \"personal_sign\":\r\n        dataToSign = payload.params[0];\r\n        addressRequested = payload.params[1];\r\n        if (address.toLowerCase() === addressRequested.toLowerCase()) {\r\n          result = await getAppControllers().wallet.signPersonalMessage(dataToSign);\r\n        } else {\r\n          errorMsg = \"Address requested does not match active account\";\r\n        }\r\n        break;\r\n      case \"eth_signTypedData\":\r\n        dataToSign = payload.params[1];\r\n        addressRequested = payload.params[0];\r\n        if (address.toLowerCase() === addressRequested.toLowerCase()) {\r\n          result = await getAppControllers().wallet.signTypedData(dataToSign);\r\n        } else {\r\n          errorMsg = \"Address requested does not match active account\";\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (result) {\r\n      connector.approveRequest({\r\n        id: payload.id,\r\n        result,\r\n      });\r\n    } else {\r\n      let message = \"JSON RPC method not supported\";\r\n      if (errorMsg) {\r\n        message = errorMsg;\r\n      }\r\n      if (!getAppControllers().wallet.isActive()) {\r\n        message = \"No Active Account\";\r\n      }\r\n      connector.rejectRequest({\r\n        id: payload.id,\r\n        error: { message },\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst ethereum: IRpcEngine = {\r\n  filter: filterEthereumRequests,\r\n  router: routeEthereumRequests,\r\n  render: renderEthereumRequests,\r\n  signer: signEthereumRequests,\r\n};\r\n\r\nexport default ethereum;\r\n","import { IRpcEngine } from \"../helpers/types\";\r\nimport { IAppState } from \"../App\";\r\nimport ethereum from \"./ethereum\";\r\n\r\nclass RpcEngine implements IRpcEngine {\r\n  public engines: IRpcEngine[];\r\n  constructor(engines: IRpcEngine[]) {\r\n    this.engines = engines;\r\n  }\r\n\r\n  public filter(payload: any) {\r\n    const engine = this.getEngine(payload);\r\n    return engine.filter(payload);\r\n  }\r\n\r\n  public router(payload: any, state: IAppState, setState: any) {\r\n    const engine = this.getEngine(payload);\r\n    return engine.router(payload, state, setState);\r\n  }\r\n\r\n  public render(payload: any) {\r\n    const engine = this.getEngine(payload);\r\n    return engine.render(payload);\r\n  }\r\n\r\n  public signer(payload: any, state: IAppState, setState: any) {\r\n    const engine = this.getEngine(payload);\r\n    return engine.signer(payload, state, setState);\r\n  }\r\n\r\n  private getEngine(payload: any) {\r\n    const match = this.engines.filter(engine => engine.filter(payload));\r\n    if (!match || !match.length) {\r\n      throw new Error(`No RPC Engine found to handle payload with method ${payload.method}`);\r\n    }\r\n    return match[0];\r\n  }\r\n}\r\n\r\nexport function getRpcEngine() {\r\n  return new RpcEngine([ethereum]);\r\n}\r\n","import walletconnectLogo from \"./assets/walletconnect-logo.png\";\r\nimport { SUPPORTED_CHAINS, MAINNET_CHAIN_ID, ETH_STANDARD_PATH } from \"../constants\";\r\nimport { IAppConfig } from \"../helpers/types\";\r\nimport { getRpcEngine } from \"../engines\";\r\n\r\nconst appConfig: IAppConfig = {\r\n  name: \"WalletConnect\",\r\n  logo: walletconnectLogo,\r\n  chainId: MAINNET_CHAIN_ID,\r\n  derivationPath: ETH_STANDARD_PATH,\r\n  numberOfAccounts: 3,\r\n  colors: {\r\n    defaultColor: \"12, 12, 13\",\r\n    backgroundColor: \"40, 44, 52\",\r\n  },\r\n  chains: SUPPORTED_CHAINS,\r\n  styleOpts: {\r\n    showPasteUri: true,\r\n    showVersion: true,\r\n  },\r\n  rpcEngine: getRpcEngine(),\r\n  events: {\r\n    init: (state, setState) => Promise.resolve(),\r\n    update: (state, setState) => Promise.resolve(),\r\n  },\r\n};\r\n\r\nexport function getAppConfig(): IAppConfig {\r\n  return appConfig;\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/walletconnect-logo.e1cb8d21.png\";","import * as ethers from \"ethers\";\r\nimport { signTypedData_v4 } from \"eth-sig-util\";\r\nimport { getChainData } from \"../helpers/utilities\";\r\nimport { setLocal, getLocal } from \"../helpers/local\";\r\nimport {\r\n  ENTROPY_KEY,\r\n  MNEMONIC_KEY,\r\n  DEFAULT_ACTIVE_INDEX,\r\n  DEFAULT_CHAIN_ID,\r\n} from \"../constants/default\";\r\nimport { getAppConfig } from \"../config\";\r\n\r\nexport class WalletController {\r\n  public path: string;\r\n  public entropy: string;\r\n  public mnemonic: string;\r\n  public wallet: ethers.Wallet;\r\n\r\n  public activeIndex: number = DEFAULT_ACTIVE_INDEX;\r\n  public activeChainId: number = DEFAULT_CHAIN_ID;\r\n\r\n  constructor() {\r\n    this.path = this.getPath();\r\n    this.entropy = this.getEntropy();\r\n    this.mnemonic = this.getMnemonic();\r\n    this.wallet = this.init();\r\n  }\r\n\r\n  get provider(): ethers.providers.Provider {\r\n    return this.wallet.provider;\r\n  }\r\n\r\n  public isActive() {\r\n    if (!this.wallet) {\r\n      return this.wallet;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public getIndex() {\r\n    return this.activeIndex;\r\n  }\r\n\r\n  public getWallet(index?: number, chainId?: number): ethers.Wallet {\r\n    if (!this.wallet || this.activeIndex === index || this.activeChainId === chainId) {\r\n      return this.init(index, chainId);\r\n    }\r\n    return this.wallet;\r\n  }\r\n\r\n  public getAccounts(count = getAppConfig().numberOfAccounts) {\r\n    const accounts = [];\r\n    let wallet = null;\r\n    for (let i = 0; i < count; i++) {\r\n      wallet = this.generateWallet(i);\r\n      accounts.push(wallet.address);\r\n    }\r\n    return accounts;\r\n  }\r\n\r\n  public getData(key: string): string {\r\n    let value = getLocal(key);\r\n    if (!value) {\r\n      switch (key) {\r\n        case ENTROPY_KEY:\r\n          value = this.generateEntropy();\r\n          break;\r\n        case MNEMONIC_KEY:\r\n          value = this.generateMnemonic();\r\n          break;\r\n        default:\r\n          throw new Error(`Unknown data key: ${key}`);\r\n      }\r\n      setLocal(key, value);\r\n    }\r\n    return value;\r\n  }\r\n\r\n  public getPath(index: number = this.activeIndex) {\r\n    this.path = `${getAppConfig().derivationPath}/${index}`;\r\n    return this.path;\r\n  }\r\n\r\n  public generateEntropy(): string {\r\n    this.entropy = ethers.utils.hexlify(ethers.utils.randomBytes(16));\r\n    return this.entropy;\r\n  }\r\n\r\n  public generateMnemonic() {\r\n    this.mnemonic = ethers.utils.entropyToMnemonic(this.getEntropy());\r\n    return this.mnemonic;\r\n  }\r\n\r\n  public generateWallet(index: number) {\r\n    this.wallet = ethers.Wallet.fromMnemonic(this.getMnemonic(), this.getPath(index));\r\n    return this.wallet;\r\n  }\r\n\r\n  public getEntropy(): string {\r\n    return this.getData(ENTROPY_KEY);\r\n  }\r\n\r\n  public getMnemonic(): string {\r\n    return this.getData(MNEMONIC_KEY);\r\n  }\r\n\r\n  public init(index = DEFAULT_ACTIVE_INDEX, chainId = DEFAULT_CHAIN_ID): ethers.Wallet {\r\n    return this.update(index, chainId);\r\n  }\r\n\r\n  public update(index: number, chainId: number): ethers.Wallet {\r\n    const firstUpdate = typeof this.wallet === \"undefined\";\r\n    this.activeIndex = index;\r\n    this.activeChainId = chainId;\r\n    const rpcUrl = getChainData(chainId).rpc_url;\r\n    const wallet = this.generateWallet(index);\r\n    const provider = new ethers.providers.JsonRpcProvider(rpcUrl);\r\n    this.wallet = wallet.connect(provider);\r\n    if (!firstUpdate) {\r\n      // update another controller if necessary here\r\n    }\r\n    return this.wallet;\r\n  }\r\n\r\n  public async populateTransaction(transaction: any) {\r\n    let tx = Object.assign({}, transaction);\r\n    if (this.wallet) {\r\n      if (tx.gas) {\r\n        tx.gasLimit = tx.gas;\r\n        delete tx.gas;\r\n      }\r\n      if (tx.from) {\r\n        tx.from = ethers.utils.getAddress(tx.from);\r\n      }\r\n\r\n      try {\r\n        tx = await this.wallet.populateTransaction(tx);\r\n        tx.gasLimit = ethers.BigNumber.from(tx.gasLimit).toHexString();\r\n        tx.gasPrice = ethers.BigNumber.from(tx.gasPrice).toHexString();\r\n        tx.nonce = ethers.BigNumber.from(tx.nonce).toHexString();\r\n      } catch (err) {\r\n        console.error(\"Error populating transaction\", tx, err);\r\n      }\r\n    }\r\n\r\n    return tx;\r\n  }\r\n\r\n  public async sendTransaction(transaction: any) {\r\n    if (this.wallet) {\r\n      if (\r\n        transaction.from &&\r\n        transaction.from.toLowerCase() !== this.wallet.address.toLowerCase()\r\n      ) {\r\n        console.error(\"Transaction request From doesn't match active account\");\r\n      }\r\n\r\n      if (transaction.from) {\r\n        delete transaction.from;\r\n      }\r\n\r\n      // ethers.js expects gasLimit instead\r\n      if (\"gas\" in transaction) {\r\n        transaction.gasLimit = transaction.gas;\r\n        delete transaction.gas;\r\n      }\r\n\r\n      const result = await this.wallet.sendTransaction(transaction);\r\n      return result.hash;\r\n    } else {\r\n      console.error(\"No Active Account\");\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public async signTransaction(data: any) {\r\n    if (this.wallet) {\r\n      if (data && data.from) {\r\n        delete data.from;\r\n      }\r\n      data.gasLimit = data.gas;\r\n      delete data.gas;\r\n      const result = await this.wallet.signTransaction(data);\r\n      return result;\r\n    } else {\r\n      console.error(\"No Active Account\");\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public async signMessage(data: any) {\r\n    if (this.wallet) {\r\n      const signingKey = new ethers.utils.SigningKey(this.wallet.privateKey);\r\n      const sigParams = await signingKey.signDigest(ethers.utils.arrayify(data));\r\n      const result = await ethers.utils.joinSignature(sigParams);\r\n      return result;\r\n    } else {\r\n      console.error(\"No Active Account\");\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public async signPersonalMessage(message: any) {\r\n    if (this.wallet) {\r\n      const result = await this.wallet.signMessage(\r\n        ethers.utils.isHexString(message) ? ethers.utils.arrayify(message) : message,\r\n      );\r\n      return result;\r\n    } else {\r\n      console.error(\"No Active Account\");\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public async signTypedData(data: any) {\r\n    if (this.wallet) {\r\n      const result = signTypedData_v4(Buffer.from(this.wallet.privateKey.slice(2), \"hex\"), {\r\n        data: JSON.parse(data),\r\n      });\r\n      return result;\r\n    } else {\r\n      console.error(\"No Active Account\");\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function getWalletController() {\r\n  return new WalletController();\r\n}\r\n","import { WalletController, getWalletController } from \"./wallet\";\r\nimport { StoreController, getStoreController } from \"./store\";\r\n\r\ninterface IAppControllers {\r\n  store: StoreController;\r\n  wallet: WalletController;\r\n}\r\n\r\nlet controllers: IAppControllers | undefined;\r\n\r\nexport function setupAppControllers(): IAppControllers {\r\n  const wallet = getWalletController();\r\n  const store = getStoreController();\r\n  controllers = { store, wallet };\r\n  return controllers;\r\n}\r\n\r\nexport function getAppControllers(): IAppControllers {\r\n  let _controllers = controllers;\r\n  if (!_controllers) {\r\n    _controllers = setupAppControllers();\r\n  }\r\n  return _controllers;\r\n}\r\n","import { setLocal, getLocal, removeLocal } from \"../helpers/local\";\r\n\r\nexport class StoreController {\r\n  public async set(key: string, data: any): Promise<void> {\r\n    return setLocal(key, data);\r\n  }\r\n  public async get(key: string): Promise<any> {\r\n    return getLocal(key);\r\n  }\r\n  public async remove(key: string): Promise<void> {\r\n    return removeLocal(key);\r\n  }\r\n}\r\n\r\nexport function getStoreController() {\r\n  return new StoreController();\r\n}\r\n","import { convertHexToUtf8 } from \"@walletconnect/utils\";\r\nimport { IChainData } from \"./types\";\r\nimport { SUPPORTED_CHAINS } from \"../constants\";\r\n\r\nexport function capitalize(string: string): string {\r\n  return string\r\n    .split(\" \")\r\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\r\n    .join(\" \");\r\n}\r\n\r\nexport function ellipseText(text = \"\", maxLength = 9999): string {\r\n  if (text.length <= maxLength) {\r\n    return text;\r\n  }\r\n  const _maxLength = maxLength - 3;\r\n  let ellipse = false;\r\n  let currentLength = 0;\r\n  const result =\r\n    text\r\n      .split(\" \")\r\n      .filter(word => {\r\n        currentLength += word.length;\r\n        if (ellipse || currentLength >= _maxLength) {\r\n          ellipse = true;\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      })\r\n      .join(\" \") + \"...\";\r\n  return result;\r\n}\r\n\r\nexport function ellipseAddress(address = \"\", width = 10): string {\r\n  return `${address.slice(0, width)}...${address.slice(-width)}`;\r\n}\r\n\r\nexport function padLeft(n: string, width: number, z?: string): string {\r\n  z = z || \"0\";\r\n  n = n + \"\";\r\n  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\r\n}\r\n\r\nexport function sanitizeHex(hex: string): string {\r\n  hex = hex.substring(0, 2) === \"0x\" ? hex.substring(2) : hex;\r\n  if (hex === \"\") {\r\n    return \"\";\r\n  }\r\n  hex = hex.length % 2 !== 0 ? \"0\" + hex : hex;\r\n  return \"0x\" + hex;\r\n}\r\n\r\nexport function removeHexPrefix(hex: string): string {\r\n  return hex.toLowerCase().replace(\"0x\", \"\");\r\n}\r\n\r\nexport function getDataString(func: string, arrVals: any[]): string {\r\n  let val = \"\";\r\n  for (let i = 0; i < arrVals.length; i++) {\r\n    val += padLeft(arrVals[i], 64);\r\n  }\r\n  const data = func + val;\r\n  return data;\r\n}\r\n\r\nexport function isMobile(): boolean {\r\n  let mobile = false;\r\n\r\n  function hasTouchEvent(): boolean {\r\n    try {\r\n      document.createEvent(\"TouchEvent\");\r\n      return true;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function hasMobileUserAgent(): boolean {\r\n    if (\r\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\r\n        navigator.userAgent,\r\n      ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\r\n        navigator.userAgent.substr(0, 4),\r\n      )\r\n    ) {\r\n      return true;\r\n    } else if (hasTouchEvent()) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  mobile = hasMobileUserAgent();\r\n\r\n  return mobile;\r\n}\r\n\r\nexport function payloadId(): number {\r\n  const datePart: number = new Date().getTime() * Math.pow(10, 3);\r\n  const extraPart: number = Math.floor(Math.random() * Math.pow(10, 3));\r\n  const id: number = datePart + extraPart;\r\n  return id;\r\n}\r\n\r\nexport function getChainData(chainId: number): IChainData {\r\n  const chainData = SUPPORTED_CHAINS.filter((chain: any) => chain.chain_id === chainId)[0];\r\n\r\n  if (!chainData) {\r\n    throw new Error(\"ChainId missing or not supported\");\r\n  }\r\n\r\n  const API_KEY = process.env.REACT_APP_INFURA_PROJECT_ID;\r\n\r\n  if (!API_KEY) {\r\n    throw new Error(\"Environment variable REACT_APP_INFURA_PROJECT_ID is not set\");\r\n  }\r\n\r\n  if (\r\n    chainData.rpc_url.includes(\"infura.io\") &&\r\n    chainData.rpc_url.includes(\"%API_KEY%\") &&\r\n    API_KEY\r\n  ) {\r\n    const rpcUrl = chainData.rpc_url.replace(\"%API_KEY%\", API_KEY);\r\n\r\n    return {\r\n      ...chainData,\r\n      rpc_url: rpcUrl,\r\n    };\r\n  }\r\n\r\n  return chainData;\r\n}\r\n\r\nexport function getViewportDimensions() {\r\n  const w = window;\r\n  const d = document;\r\n  const e = d.documentElement;\r\n  const g = d.getElementsByTagName(\"body\")[0];\r\n  const x = w.innerWidth || e.clientWidth || g.clientWidth;\r\n  const y = w.innerHeight || e.clientHeight || g.clientHeight;\r\n\r\n  return { x, y };\r\n}\r\n\r\nexport function convertHexToUtf8IfPossible(hex: string) {\r\n  try {\r\n    return convertHexToUtf8(hex);\r\n  } catch (e) {\r\n    return hex;\r\n  }\r\n}\r\n\r\nexport function prettyPrint(obj: any) {\r\n  return JSON.stringify(obj, null, 2);\r\n}\r\n\r\nexport function verifyPayload(payload: any) {\r\n  const { params, id, method } = payload;\r\n\r\n  if (!params || typeof params !== \"object\") {\r\n    throw new Error(\r\n      `WalletConnect Error - invalid payload params. Payload: ${prettyPrint(payload)}`,\r\n    );\r\n  }\r\n\r\n  if (!id || typeof id !== \"number\") {\r\n    throw new Error(`WalletConnect Error - invalid payload id. Payload: ${prettyPrint(payload)}`);\r\n  }\r\n\r\n  if (!method || typeof method !== \"string\") {\r\n    throw new Error(\r\n      `WalletConnect Error - invalid payload method. Payload: ${prettyPrint(payload)}`,\r\n    );\r\n  }\r\n\r\n  return;\r\n}\r\n\r\nexport function verifyFields(params: any[], keys: any[]) {\r\n  if (keys.length <= 0 || keys.filter((k: any) => typeof k !== \"string\").length !== 0) {\r\n    throw new Error(`[verifyFields] Must provide an array of fields to check`);\r\n  }\r\n  if (typeof params !== \"object\") {\r\n    throw new Error(`[verifyFields] Must provide a params object`);\r\n  }\r\n\r\n  const naStr = keys.filter(k => !params[k]);\r\n  if (naStr.length !== 0) {\r\n    throw new Error(\r\n      `[verifyFields] Params missing needed keys. Params: ${prettyPrint(\r\n        params,\r\n      )}, keys: ${prettyPrint(keys)}`,\r\n    );\r\n  }\r\n  return;\r\n}\r\n\r\nexport function getCachedSession(): any {\r\n  const local = localStorage ? localStorage.getItem(\"walletconnect\") : null;\r\n\r\n  let session = null;\r\n  if (local) {\r\n    try {\r\n      session = JSON.parse(local);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  return session;\r\n}\r\n","export const ETH_STANDARD_PATH = \"m/44'/60'/0'/0\";\r\nexport const ENTROPY_KEY = \"ENTROPY\";\r\nexport const MNEMONIC_KEY = \"MNEMONIC\";\r\n\r\nexport const DEFAULT_ACTIVE_INDEX = 0;\r\nexport const MAINNET_CHAIN_ID = 1;\r\nexport const ROPSTEN_CHAIN_ID = 3;\r\nexport const RINKEBY_CHAIN_ID = 4;\r\nexport const GOERLI_CHAIN_ID = 5;\r\nexport const DEFAULT_CHAIN_ID = RINKEBY_CHAIN_ID;\r\n","import { getAppConfig } from \"./config\";\r\n\r\nexport const baseColors = {\r\n  white: \"255, 255, 255\",\r\n  black: \"0, 0, 0\",\r\n  dark: \"12, 12, 13\",\r\n  grey: \"169, 169, 188\",\r\n  darkGrey: \"113, 119, 138\",\r\n  lightGrey: \"212, 212, 212\",\r\n  blue: \"101, 127, 230\",\r\n  lightBlue: \"64, 153, 255\",\r\n  yellow: \"250, 188, 45\",\r\n  orange: \"246, 133, 27\",\r\n  green: \"84, 209, 146\",\r\n  pink: \"255, 51, 102\",\r\n  red: \"214, 75, 71\",\r\n  purple: \"110, 107, 233\",\r\n};\r\n\r\nexport const colors = {\r\n  ...baseColors,\r\n  ...getAppConfig().colors,\r\n};\r\n\r\nexport const fonts = {\r\n  size: {\r\n    tiny: \"10px\",\r\n    small: \"14px\",\r\n    medium: \"16px\",\r\n    large: \"18px\",\r\n    h1: \"60px\",\r\n    h2: \"50px\",\r\n    h3: \"40px\",\r\n    h4: \"32px\",\r\n    h5: \"24px\",\r\n    h6: \"20px\",\r\n  },\r\n  weight: {\r\n    normal: 400,\r\n    medium: 500,\r\n    semibold: 600,\r\n    bold: 700,\r\n    extrabold: 800,\r\n  },\r\n  family: {\r\n    OpenSans: `\"Open Sans\", sans-serif`,\r\n  },\r\n};\r\n\r\nexport const transitions = {\r\n  short: \"all 0.1s ease-in-out\",\r\n  base: \"all 0.2s ease-in-out\",\r\n  long: \"all 0.3s ease-in-out\",\r\n  button: \"all 0.15s ease-in-out\",\r\n};\r\n\r\nexport const shadows = {\r\n  soft:\r\n    \"0 4px 6px 0 rgba(50, 50, 93, 0.11), 0 1px 3px 0 rgba(0, 0, 0, 0.08), inset 0 0 1px 0 rgba(0, 0, 0, 0.06)\",\r\n  medium:\r\n    \"0 3px 6px 0 rgba(0, 0, 0, 0.06), 0 0 1px 0 rgba(50, 50, 93, 0.02), 0 5px 10px 0 rgba(59, 59, 92, 0.08)\",\r\n  hard:\r\n    \"0px 2px 6px 0 rgba(0, 0, 0, 0.1), 0 0 1px 0 rgba(50,50,93,0.02), -1px 2px 10px 0 rgba(59, 59, 92, 0.15)\",\r\n  big: \"0 15px 35px 0 rgba(50, 50, 93, 0.06), 0 5px 15px 0 rgba(50, 50, 93, 0.15)\",\r\n  hover:\r\n    \"0 7px 14px 0 rgba(50, 50, 93, 0.1), 0 3px 6px 0 rgba(0, 0, 0, 0.08), inset 0 0 1px 0 rgba(0, 0, 0, 0.06)\",\r\n};\r\n\r\nexport const responsive = {\r\n  xs: {\r\n    min: \"min-width: 467px\",\r\n    max: \"max-width: 468px\",\r\n  },\r\n  sm: {\r\n    min: \"min-width: 639px\",\r\n    max: \"max-width: 640px\",\r\n  },\r\n  md: {\r\n    min: \"min-width: 959px\",\r\n    max: \"max-width: 960px\",\r\n  },\r\n  lg: {\r\n    min: \"min-width: 1023px\",\r\n    max: \"max-width: 1024px\",\r\n  },\r\n  xl: {\r\n    min: \"min-width: 1399px\",\r\n    max: \"max-width: 1400px\",\r\n  },\r\n};\r\n\r\nexport const globalStyle = `\r\n  html, body, #root {\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  body {\r\n    font-family: ${fonts.family.OpenSans};\r\n    font-style: normal;\r\n    font-stretch: normal;\r\n    font-weight: ${fonts.weight.normal};\r\n    font-size: ${fonts.size.medium};\r\n    background-color: rgb(${colors.backgroundColor});\r\n    color: rgb(${colors.white});\r\n    overflow-y:auto;\r\n    text-rendering: optimizeLegibility;\r\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  \t-webkit-text-size-adjust: 100%;\r\n    -webkit-overflow-scrolling: touch;\r\n    -ms-text-size-adjust: 100%;\r\n    -webkit-text-size-adjust: 100%;  \r\n  }\r\n\r\n  button {\r\n    border-style: none;\r\n    line-height: 1em;\r\n    background-image: none;\r\n    outline: 0;\r\n    -webkit-box-shadow: none;\r\n            box-shadow: none;\r\n  }\r\n\r\n  [tabindex] {\r\n    outline: none;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  a, p, h1, h2, h3, h4, h5, h6 {\r\n  \ttext-decoration: none;\r\n  \tmargin: 0;\r\n    padding: 0;\r\n    margin: 0.7em 0;\r\n  }\r\n\r\n  h1 {\r\n    font-size: ${fonts.size.h1}\r\n  }\r\n  h2 {\r\n    font-size: ${fonts.size.h2}\r\n  }\r\n  h3 {\r\n    font-size: ${fonts.size.h3}\r\n  }\r\n  h4 {\r\n    font-size: ${fonts.size.h4}\r\n  }\r\n  h5 {\r\n    font-size: ${fonts.size.h5}\r\n  }\r\n  h6 {\r\n    font-size: ${fonts.size.h6}\r\n  }\r\n\r\n  a {\r\n    background-color: transparent;\r\n    -webkit-text-decoration-skip: objects;  \r\n    text-decoration: none;\r\n    color: inherit;\r\n    outline: none;\r\n  }\r\n\r\n  b,\r\n  strong {\r\n    font-weight: inherit;\r\n    font-weight: bolder;\r\n  }\r\n\r\n  ul, li {\r\n  \tlist-style: none;\r\n  \tmargin: 0;\r\n  \tpadding: 0;\r\n  }\r\n\r\n  * {\r\n    box-sizing: border-box !important;\r\n  }\r\n\r\n\r\n  input {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  article,\r\n  aside,\r\n  details,\r\n  figcaption,\r\n  figure,\r\n  footer,\r\n  header,\r\n  main,\r\n  menu,\r\n  nav,\r\n  section,\r\n  summary {\r\n    display: block;\r\n  }\r\n  audio,\r\n  canvas,\r\n  progress,\r\n  video {\r\n    display: inline-block;\r\n  }\r\n\r\n  input[type=\"color\"],\r\n  input[type=\"date\"],\r\n  input[type=\"datetime\"],\r\n  input[type=\"datetime-local\"],\r\n  input[type=\"email\"],\r\n  input[type=\"month\"],\r\n  input[type=\"number\"],\r\n  input[type=\"password\"],\r\n  input[type=\"search\"],\r\n  input[type=\"tel\"],\r\n  input[type=\"text\"],\r\n  input[type=\"time\"],\r\n  input[type=\"url\"],\r\n  input[type=\"week\"],\r\n  select:focus,\r\n  textarea {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n","import * as React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { fonts, colors } from \"../styles\";\r\n\r\ninterface ILoaderStyleProps {\r\n  size: number;\r\n  color: string;\r\n  background: string;\r\n}\r\n\r\nconst load = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst SLoader = styled.div<ILoaderStyleProps>`\r\n  position: relative;\r\n  font-size: ${fonts.size.tiny};\r\n  margin: 0 auto;\r\n  text-indent: -9999em;\r\n  width: ${({ size }) => `${size}px`};\r\n  height: ${({ size }) => `${size}px`};\r\n  border-radius: 50%;\r\n  background: ${({ color }) => `rgb(${colors[color]})`};\r\n  background: ${({ background, color }) =>\r\n    `linear-gradient(to right, rgb(${colors[color]}) 10%, rgba(${colors[background]}, 0) 42%)`};\r\n  animation: ${load} 1s infinite linear;\r\n  transform: translateZ(0);\r\n\r\n  &:before {\r\n    width: 50%;\r\n    height: 50%;\r\n    background: ${({ color }) => `rgb(${colors[color]})`};\r\n    border-radius: 100% 0 0 0;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    content: \"\";\r\n  }\r\n\r\n  &:after {\r\n    background: ${({ background }) => `rgb(${colors[background]})`};\r\n    width: 75%;\r\n    height: 75%;\r\n    border-radius: 50%;\r\n    content: \"\";\r\n    margin: auto;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n  }\r\n`;\r\n\r\nconst Loader = (props: ILoaderStyleProps) => (\r\n  <SLoader {...props} size={props.size} color={props.color} background={props.background} />\r\n);\r\n\r\nLoader.defaultProps = {\r\n  size: 50,\r\n  color: \"defaultColor\",\r\n  background: \"white\",\r\n};\r\n\r\nexport default Loader;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"./Loader\";\r\nimport { colors, fonts, shadows, transitions } from \"../styles\";\r\n\r\ninterface IButtonStyleProps {\r\n  fetching: boolean;\r\n  outline: boolean;\r\n  type: \"button\" | \"submit\" | \"reset\";\r\n  color: string;\r\n  disabled: boolean;\r\n  icon: any;\r\n  left: boolean;\r\n}\r\n\r\ninterface IButtonProps extends IButtonStyleProps {\r\n  children: React.ReactNode;\r\n  onClick?: any;\r\n}\r\n\r\nconst SIcon = styled.div`\r\n  position: absolute;\r\n  height: 15px;\r\n  width: 15px;\r\n  margin: 0 8px;\r\n  top: calc((100% - 15px) / 2);\r\n`;\r\n\r\nconst SHoverLayer = styled.div`\r\n  transition: ${transitions.button};\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgb(${colors.white}, 0.1);\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  opacity: 0;\r\n  visibility: hidden;\r\n`;\r\n\r\nconst SButton = styled.button<IButtonStyleProps>`\r\n  transition: ${transitions.button};\r\n  position: relative;\r\n  border: none;\r\n  border-style: none;\r\n  box-sizing: border-box;\r\n  background-color: ${({ outline, color }) => (outline ? \"transparent\" : `rgb(${colors[color]})`)};\r\n  border: ${({ outline, color }) => (outline ? `1px solid rgb(${colors[color]})` : \"none\")};\r\n  color: ${({ outline, color }) => (outline ? `rgb(${colors[color]})` : `rgb(${colors.white})`)};\r\n  box-shadow: ${({ outline }) => (outline ? \"none\" : `${shadows.soft}`)};\r\n  border-radius: 8px;\r\n  font-size: ${fonts.size.medium};\r\n  font-weight: ${fonts.weight.semibold};\r\n  padding: ${({ icon, left }) =>\r\n    icon ? (left ? \"7px 12px 8px 28px\" : \"7px 28px 8px 12px\") : \"8px 12px\"};\r\n  cursor: ${({ disabled }) => (disabled ? \"auto\" : \"pointer\")};\r\n  will-change: transform;\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    box-shadow: ${({ outline }) => (outline ? \"none\" : `${shadows.soft}`)};\r\n  }\r\n\r\n  @media (hover: hover) {\r\n    &:hover {\r\n      transform: ${({ disabled }) => (!disabled ? \"translateY(-1px)\" : \"none\")};\r\n      box-shadow: ${({ disabled, outline }) =>\r\n        !disabled ? (outline ? \"none\" : `${shadows.hover}`) : `${shadows.soft}`};\r\n    }\r\n\r\n    &:hover ${SHoverLayer} {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n\r\n  &:active {\r\n    transform: ${({ disabled }) => (!disabled ? \"translateY(1px)\" : \"none\")};\r\n    box-shadow: ${({ outline }) => (outline ? \"none\" : `${shadows.soft}`)};\r\n    color: ${({ outline, color }) =>\r\n      outline ? `rgb(${colors[color]})` : `rgba(${colors.white}, 0.24)`};\r\n\r\n    & ${SIcon} {\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n\r\n  & ${SIcon} {\r\n    right: ${({ left }) => (left ? \"auto\" : \"0\")};\r\n    left: ${({ left }) => (left ? \"0\" : \"auto\")};\r\n    display: ${({ icon }) => (icon ? \"block\" : \"none\")};\r\n    mask: ${({ icon }) => (icon ? `url(${icon}) center no-repeat` : \"none\")};\r\n    background-color: ${({ outline, color }) =>\r\n      outline ? `rgb(${colors[color]})` : `rgb(${colors.white})`};\r\n    transition: 0.15s ease;\r\n  }\r\n`;\r\n\r\nconst Button = (props: IButtonProps) => (\r\n  <SButton\r\n    {...props}\r\n    type={props.type}\r\n    outline={props.outline}\r\n    color={props.color}\r\n    disabled={props.disabled}\r\n    icon={props.icon}\r\n    left={props.left}\r\n  >\r\n    <SHoverLayer />\r\n    <SIcon />\r\n    {props.fetching ? <Loader size={20} color=\"white\" background={props.color} /> : props.children}\r\n  </SButton>\r\n);\r\n\r\nButton.defaultProps = {\r\n  fetching: false,\r\n  outline: false,\r\n  type: \"button\",\r\n  color: \"defaultColor\",\r\n  disabled: false,\r\n  icon: null,\r\n  left: false,\r\n};\r\n\r\nexport default Button;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { colors } from \"../styles\";\r\n\r\ninterface ICardStyleProps {\r\n  maxWidth: number;\r\n}\r\n\r\ninterface ICardProps extends ICardStyleProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst SCard = styled.div<ICardStyleProps>`\r\n  width: 100%;\r\n  max-width: ${({ maxWidth }) => `${maxWidth}px`};\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: rgb(${colors.white});\r\n  color: rgb(${colors.defaultColor});\r\n  border-radius: 6px;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Card = (props: ICardProps) => {\r\n  return (\r\n    <SCard {...props} maxWidth={props.maxWidth}>\r\n      {props.children}\r\n    </SCard>\r\n  );\r\n};\r\n\r\nCard.defaultProps = {\r\n  maxWidth: 600,\r\n};\r\n\r\nexport default Card;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { colors, shadows } from \"../styles\";\r\n\r\nconst SInput = styled.input`\r\n  border: none;\r\n  background: rgb(${colors.white});\r\n  border-style: none;\r\n  padding: 12px;\r\n  outline: none;\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n  text-align: left;\r\n  border-radius: 8px;\r\n  box-shadow: ${shadows.hard};\r\n`;\r\n\r\nconst Input = (props: any) => <SInput {...props} />;\r\n\r\nexport default Input;\r\n","import * as React from \"react\";\r\nimport * as blockies from \"blockies-ts\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface IBlockieStyleProps {\r\n  size: number;\r\n}\r\n\r\ninterface IBlockieProps extends IBlockieStyleProps {\r\n  address: string;\r\n}\r\n\r\nconst SBlockieWrapper = styled.div<IBlockieStyleProps>`\r\n  width: ${({ size }) => `${size}px`};\r\n  height: ${({ size }) => `${size}px`};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  & img {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Blockie = (props: IBlockieProps) => {\r\n  const seed = props.address.toLowerCase() || \"\";\r\n  const imgUrl = blockies\r\n    .create({\r\n      seed,\r\n    })\r\n    .toDataURL();\r\n  return (\r\n    <SBlockieWrapper {...props} size={props.size}>\r\n      <img src={imgUrl} alt={props.address} />\r\n    </SBlockieWrapper>\r\n  );\r\n};\r\n\r\nBlockie.defaultProps = {\r\n  address: \"0x0000000000000000000000000000000000000000\",\r\n  size: 30,\r\n};\r\n\r\nexport default Blockie;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Blockie from \"./Blockie\";\r\nimport { ellipseAddress, getChainData } from \"../helpers/utilities\";\r\nimport { fonts, responsive, transitions } from \"../styles\";\r\n\r\nconst SHeader = styled.div`\r\n  margin-top: -1px;\r\n  margin-bottom: 1px;\r\n  width: 100%;\r\n  height: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 16px;\r\n  @media screen and (${responsive.sm.max}) {\r\n    font-size: ${fonts.size.small};\r\n  }\r\n`;\r\n\r\nconst SActiveAccount = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst SActiveChain = styled(SActiveAccount as any)`\r\n  flex-direction: column;\r\n  text-align: left;\r\n  align-items: flex-start;\r\n  & p {\r\n    font-size: 0.8em;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  & p:nth-child(2) {\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\ninterface IHeaderStyle {\r\n  connected: boolean;\r\n}\r\n\r\nconst SAddress = styled.p<IHeaderStyle>`\r\n  transition: ${transitions.base};\r\n  font-weight: bold;\r\n  margin: ${({ connected }) => (connected ? \"-2px auto 0.7em\" : \"0\")};\r\n`;\r\n\r\nconst SBlockie = styled(Blockie)`\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst SDisconnect = styled.div<IHeaderStyle>`\r\n  transition: ${transitions.button};\r\n  font-size: 12px;\r\n  font-family: monospace;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 20px;\r\n  opacity: 0.7;\r\n  cursor: pointer;\r\n\r\n  opacity: ${({ connected }) => (connected ? 1 : 0)};\r\n  visibility: ${({ connected }) => (connected ? \"visible\" : \"hidden\")};\r\n  pointer-events: ${({ connected }) => (connected ? \"auto\" : \"none\")};\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\ninterface IHeaderProps {\r\n  killSession: () => void;\r\n  connected: boolean;\r\n  address: string;\r\n  chainId: number;\r\n}\r\n\r\nconst Header = (props: IHeaderProps) => {\r\n  const { connected, address, chainId, killSession } = props;\r\n  const activeChain = chainId ? getChainData(chainId).name : null;\r\n  return (\r\n    <SHeader {...props}>\r\n      {activeChain && (\r\n        <SActiveChain>\r\n          <p>{`Connected to`}</p>\r\n          <p>{activeChain}</p>\r\n        </SActiveChain>\r\n      )}\r\n      {address && (\r\n        <SActiveAccount>\r\n          <SBlockie address={address} />\r\n          <SAddress connected={connected}>{ellipseAddress(address)}</SAddress>\r\n          <SDisconnect connected={connected} onClick={killSession}>\r\n            {\"Disconnect\"}\r\n          </SDisconnect>\r\n        </SActiveAccount>\r\n      )}\r\n    </SHeader>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SColumn = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Column = (props: any) => <SColumn {...props}>{props.children}</SColumn>;\r\n\r\nexport default Column;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IClientMeta } from \"@walletconnect/types\";\r\n\r\nconst SIcon = styled.img`\r\n  width: 100px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SCenter = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst SName = styled(SCenter as any)`\r\n  font-weight: bold;\r\n`;\r\n\r\ninterface IPeerMetaProps {\r\n  peerMeta: IClientMeta;\r\n}\r\n\r\nconst PeerMeta = (props: IPeerMetaProps) => (\r\n  <>\r\n    <SIcon src={props.peerMeta.icons[0]} alt={props.peerMeta.name} />\r\n    <SName>{props.peerMeta.name}</SName>\r\n    <SCenter>{props.peerMeta.description}</SCenter>\r\n    <SCenter>{props.peerMeta.url}</SCenter>\r\n  </>\r\n);\r\n\r\nexport default PeerMeta;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Column from \"./Column\";\r\nimport Button from \"./Button\";\r\nimport { IRequestRenderParams } from \"../helpers/types\";\r\n\r\nconst SRequestValues = styled.div`\r\n  font-family: monospace;\r\n  width: 100%;\r\n  font-size: 12px;\r\n  background-color: #eee;\r\n  padding: 8px;\r\n  word-break: break-word;\r\n  border-radius: 8px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst SConnectedPeer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  & img {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  & > div {\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\nconst SActions = styled.div`\r\n  margin: 0;\r\n  margin-top: 20px;\r\n\r\n  display: flex;\r\n  justify-content: space-around;\r\n  & > * {\r\n    margin: 0 5px;\r\n  }\r\n`;\r\n\r\nclass RequestDisplay extends React.Component<any, any> {\r\n  public render() {\r\n    const { payload, peerMeta, approveRequest, rejectRequest, renderPayload } = this.props;\r\n\r\n    const params: IRequestRenderParams[] = renderPayload(payload);\r\n    console.log(\"RENDER\", \"method\", payload.method);\r\n    console.log(\"RENDER\", \"params\", payload.params);\r\n    console.log(\"RENDER\", \"formatted\", params);\r\n    return (\r\n      <Column>\r\n        <h6>{\"Request From\"}</h6>\r\n        <SConnectedPeer>\r\n          <img src={peerMeta.icons[0]} alt={peerMeta.name} />\r\n          <div>{peerMeta.name}</div>\r\n        </SConnectedPeer>\r\n        {params.map(param => (\r\n          <React.Fragment key={param.label}>\r\n            <h6>{param.label}</h6>\r\n            <SRequestValues>{param.value}</SRequestValues>\r\n          </React.Fragment>\r\n        ))}\r\n        <SActions>\r\n          <Button onClick={approveRequest}>{`Approve`}</Button>\r\n          <Button onClick={rejectRequest}>{`Reject`}</Button>\r\n        </SActions>\r\n      </Column>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RequestDisplay;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { colors, shadows } from \"../styles\";\r\n\r\nconst SRequestButton = styled.div`\r\n  border: none;\r\n  background: rgb(${colors.white});\r\n  border-style: none;\r\n  padding: 12px;\r\n  outline: none;\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n  text-align: left;\r\n  border-radius: 8px;\r\n  box-shadow: ${shadows.hard};\r\n  cursor: pointer;\r\n`;\r\n\r\nconst RequestButton = (props: any) => <SRequestButton {...props} />;\r\n\r\nexport default RequestButton;\r\n","import * as React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\ninterface IClickOutsideProps {\r\n  onClickOutside: (event: any) => void;\r\n}\r\n\r\nclass ClickOutside extends React.Component<IClickOutsideProps> {\r\n  public static propTypes = {\r\n    onClickOutside: PropTypes.func.isRequired,\r\n  };\r\n\r\n  private element: HTMLDivElement | null;\r\n  private isTouch = false;\r\n\r\n  public componentDidMount() {\r\n    document.addEventListener(\"touchend\", this.handle, true);\r\n    document.addEventListener(\"click\", this.handle, true);\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    document.removeEventListener(\"touchend\", this.handle, true);\r\n    document.removeEventListener(\"click\", this.handle, true);\r\n  }\r\n\r\n  public handle = (event: any) => {\r\n    if (event.type === \"touchend\") {\r\n      this.isTouch = true;\r\n    }\r\n    if (event.type === \"click\" && this.isTouch) {\r\n      return;\r\n    }\r\n    const { onClickOutside } = this.props;\r\n    const element = this.element;\r\n    if (element) {\r\n      if (!element.contains(event.target)) {\r\n        onClickOutside(event);\r\n      }\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    const { children, onClickOutside, ...props } = this.props;\r\n    return (\r\n      <div {...props} ref={c => (this.element = c)}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ClickOutside;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { colors, shadows, transitions } from \"../styles\";\r\nimport ClickOutside from \"./ClickOutside\";\r\n\r\ninterface IDropdownStyle {\r\n  show?: boolean;\r\n  selected?: boolean;\r\n  disabled?: boolean;\r\n  monospace?: boolean;\r\n}\r\n\r\nconst SDropdown = styled.div<IDropdownStyle>`\r\n  transition: ${transitions.base};\r\n  position: relative;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 6px;\r\n  box-shadow: ${shadows.hard};\r\n  font-family: ${({ monospace }) => (monospace ? \"monospace\" : \"inherit\")};\r\n  cursor: ${({ disabled }) => (disabled ? \"default\" : \"pointer\")};\r\n`;\r\n\r\nconst SRow = styled.div<IDropdownStyle>`\r\n  transition: ${transitions.base};\r\n  width: 100%;\r\n  padding: 10px 20px;\r\n  background: rgb(${colors.white});\r\n  border-radius: ${({ selected, show }) => (selected ? (show ? \"6px 6px 0 0 \" : \"6px\") : \"none\")};\r\n  border-bottom-width: 1px;\r\n  border-bottom-style: solid;\r\n  border-bottom-color: ${({ show }) =>\r\n    show ? `rgba(${colors.defaultColor}, 0.3)` : `rgba(${colors.defaultColor}, 0)`};\r\n  &:last-child {\r\n    border-bottom-color: rgba(${colors.defaultColor}, 0);\r\n  }\r\n`;\r\n\r\nconst SAbsolute = styled.div<IDropdownStyle>`\r\n  transition: ${transitions.base};\r\n  position: absolute;\r\n  top: 100%;\r\n  width: 100%;\r\n  max-height: 150px;\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  z-index: 1;\r\n  border-radius: 0 0 6px 6px;\r\n  box-shadow: ${shadows.hard};\r\n  opacity: ${({ show }) => (show ? \"1\" : \"0\")};\r\n  pointer-events: ${({ show }) => (show ? \"auto\" : \"non\")};\r\n  visibility: ${({ show }) => (show ? \"visible\" : \"hidden\")};\r\n`;\r\n\r\ninterface IDropdownState {\r\n  show: boolean;\r\n  optionsDict: any;\r\n  otherKeys: any[];\r\n}\r\n\r\ninterface IDropdownProps {\r\n  selected: number | string;\r\n  options: any[] | object;\r\n  displayKey: number | string;\r\n  targetKey: number | string;\r\n  disabled?: boolean;\r\n  onChange?: any;\r\n  monospace?: boolean;\r\n}\r\n\r\nclass Dropdown extends React.Component<IDropdownProps, IDropdownState> {\r\n  public state = {\r\n    show: false,\r\n    optionsDict: {},\r\n    otherKeys: [],\r\n  };\r\n\r\n  public componentDidMount() {\r\n    const { otherKeys, optionsDict } = this.parseKeys(this.props);\r\n    this.setState({ otherKeys, optionsDict });\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: IDropdownProps) {\r\n    if (prevProps.selected !== this.props.selected) {\r\n      const { otherKeys, optionsDict } = this.parseKeys(this.props);\r\n      this.setState({ otherKeys, optionsDict });\r\n    }\r\n  }\r\n\r\n  public parseKeys = (props: {\r\n    targetKey: number | string;\r\n    options: any[] | object;\r\n    selected: number | string;\r\n  }) => {\r\n    const { targetKey, options, selected } = props;\r\n    let optionsDict = {};\r\n    let otherKeys: any[] = [];\r\n    if (Array.isArray(options)) {\r\n      if (!targetKey) {\r\n        throw new Error(`Error: \"option\" prop is type Array requires \"targetKey\" prop`);\r\n      }\r\n      options.forEach((option: any) => {\r\n        const optionKey = option[targetKey];\r\n        if (option[targetKey] !== selected) {\r\n          otherKeys.push(optionKey);\r\n        }\r\n        optionsDict[optionKey] = option;\r\n      });\r\n    } else {\r\n      otherKeys = Object.keys(options);\r\n      optionsDict = options;\r\n    }\r\n    return { otherKeys, optionsDict };\r\n  };\r\n\r\n  public toggleDropdown = () => {\r\n    if (this.props.disabled) {\r\n      return;\r\n    }\r\n    this.setState({ show: !this.state.show });\r\n  };\r\n\r\n  public onClickOutside = () => {\r\n    if (this.state.show) {\r\n      this.toggleDropdown();\r\n    }\r\n  };\r\n\r\n  public onChange = async (selected: string) => {\r\n    this.toggleDropdown();\r\n    if (this.props.onChange) {\r\n      this.props.onChange(selected);\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    const { displayKey, selected, disabled, monospace } = this.props;\r\n    const { show, otherKeys, optionsDict } = this.state;\r\n    return Object.keys(optionsDict).length ? (\r\n      <ClickOutside onClickOutside={this.onClickOutside}>\r\n        <SDropdown monospace={!!monospace} disabled={disabled || !otherKeys.length}>\r\n          <SRow selected={true} show={show} onClick={this.toggleDropdown}>\r\n            {optionsDict[selected][displayKey]}\r\n          </SRow>\r\n          {!!otherKeys.length && (\r\n            <SAbsolute show={show}>\r\n              {otherKeys.map((otherKey, idx) => (\r\n                <SRow\r\n                  show={show}\r\n                  onClick={() => this.onChange(otherKey)}\r\n                  key={`${otherKey}-${idx}`}\r\n                >\r\n                  {optionsDict[otherKey][displayKey]}\r\n                </SRow>\r\n              ))}\r\n            </SAbsolute>\r\n          )}\r\n        </SDropdown>\r\n      </ClickOutside>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nexport default Dropdown;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Dropdown from \"../components/Dropdown\";\r\nimport { IChainData } from \"../helpers/types\";\r\nimport { ellipseAddress, getViewportDimensions } from \"../helpers/utilities\";\r\nimport { responsive } from \"../styles\";\r\nimport Blockie from \"./Blockie\";\r\n\r\nconst SSection = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst SBlockie = styled(Blockie)`\r\n  margin-right: 5px;\r\n  @media screen and (${responsive.xs.max}) {\r\n    margin-right: 1vw;\r\n  }\r\n`;\r\n\r\nconst SAddressDropdownWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\ninterface IAccountDetailsProps {\r\n  chains: IChainData[];\r\n  updateAddress?: any;\r\n  updateChain?: any;\r\n  accounts: string[];\r\n  activeIndex: number;\r\n  address: string;\r\n  chainId: number;\r\n}\r\n\r\nconst AccountDetails = (props: IAccountDetailsProps) => {\r\n  const { chains, chainId, address, activeIndex, accounts, updateAddress, updateChain } = props;\r\n  const windowWidth = getViewportDimensions().x;\r\n  const maxWidth = 468;\r\n  const maxChar = 12;\r\n  const ellipseLength =\r\n    windowWidth > maxWidth ? maxChar : Math.floor(windowWidth * (maxChar / maxWidth));\r\n  const accountsMap = accounts.map((addr: string, index: number) => ({\r\n    index,\r\n    display_address: ellipseAddress(addr, ellipseLength),\r\n  }));\r\n  return (\r\n    <React.Fragment>\r\n      <SSection>\r\n        <h6>{\"Account\"}</h6>\r\n        <SAddressDropdownWrapper>\r\n          <SBlockie size={40} address={address} />\r\n          <Dropdown\r\n            monospace\r\n            selected={activeIndex}\r\n            options={accountsMap}\r\n            displayKey={\"display_address\"}\r\n            targetKey={\"index\"}\r\n            onChange={updateAddress}\r\n          />\r\n        </SAddressDropdownWrapper>\r\n      </SSection>\r\n      <SSection>\r\n        <h6>{\"Network\"}</h6>\r\n        <Dropdown\r\n          selected={chainId}\r\n          options={chains}\r\n          displayKey={\"name\"}\r\n          targetKey={\"chain_id\"}\r\n          onChange={updateChain}\r\n        />\r\n      </SSection>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default AccountDetails;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport QrReader from \"react-qr-reader\";\r\n\r\nconst SQRCodeScannerContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  margin: 0 auto !important;\r\n  background: rgb(0, 0, 0);\r\n`;\r\n\r\nconst SQRCodeScannerWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst SCloseButton = styled.div`\r\n  transition: all 0.2s ease-in-out;\r\n  width: 25px;\r\n  height: 25px;\r\n  position: absolute;\r\n  z-index: 10;\r\n  top: 15px;\r\n  right: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transform: rotate(45deg);\r\n  &:hover {\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst SFirstLine = styled.div`\r\n  position: absolute;\r\n  width: 90%;\r\n  border: 1px solid rgb(255, 255, 255);\r\n`;\r\n\r\nconst SSecondLine = styled(SFirstLine as any)`\r\n  transform: rotate(90deg);\r\n`;\r\n\r\nexport interface IQRCodeValidateResponse {\r\n  error: Error | null;\r\n  result: any | null;\r\n}\r\n\r\ninterface IQRCodeScannerProps {\r\n  onValidate: (data: string) => IQRCodeValidateResponse;\r\n  onScan: (data: any) => void;\r\n  onError: (error: Error) => void;\r\n  onClose: () => void;\r\n}\r\n\r\ninterface IQRCodeScannerState {\r\n  delay: number | false;\r\n}\r\n\r\nclass QRCodeScanner extends React.Component<IQRCodeScannerProps, IQRCodeScannerState> {\r\n  public state = {\r\n    delay: 300,\r\n  };\r\n\r\n  public stopRecording = async () => {\r\n    await this.setState({ delay: false });\r\n  };\r\n\r\n  public handleScan = (data: string) => {\r\n    if (data) {\r\n      const { result, error } = this.props.onValidate(data);\r\n      if (result) {\r\n        this.stopRecording();\r\n        this.props.onScan(result);\r\n      } else {\r\n        this.handleError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  public handleError = (error: Error | null) => {\r\n    if (error) {\r\n      this.props.onError(error);\r\n    }\r\n  };\r\n\r\n  public onClose = async () => {\r\n    try {\r\n      await this.stopRecording();\r\n      this.props.onClose();\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  };\r\n\r\n  public componentWillUnmount() {\r\n    this.stopRecording();\r\n  }\r\n  public render() {\r\n    return (\r\n      <SQRCodeScannerContainer>\r\n        <SCloseButton onClick={this.onClose}>\r\n          <SFirstLine />\r\n          <SSecondLine />\r\n        </SCloseButton>\r\n        <SQRCodeScannerWrapper>\r\n          <QrReader\r\n            delay={this.state.delay}\r\n            onError={this.handleError}\r\n            onScan={this.handleScan}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </SQRCodeScannerWrapper>\r\n      </SQRCodeScannerContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QRCodeScanner;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport WalletConnect from \"@walletconnect/client\";\r\nimport Button from \"./components/Button\";\r\nimport Card from \"./components/Card\";\r\nimport Input from \"./components/Input\";\r\nimport Header from \"./components/Header\";\r\nimport Column from \"./components/Column\";\r\nimport PeerMeta from \"./components/PeerMeta\";\r\nimport RequestDisplay from \"./components/RequestDisplay\";\r\nimport RequestButton from \"./components/RequestButton\";\r\nimport AccountDetails from \"./components/AccountDetails\";\r\nimport QRCodeScanner, { IQRCodeValidateResponse } from \"./components/QRCodeScanner\";\r\nimport { DEFAULT_CHAIN_ID, DEFAULT_ACTIVE_INDEX } from \"./constants/default\";\r\nimport { getCachedSession } from \"./helpers/utilities\";\r\nimport { getAppControllers } from \"./controllers\";\r\nimport { getAppConfig } from \"./config\";\r\n\r\nconst SContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  width: 100%;\r\n  min-height: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 0;\r\n`;\r\n\r\nconst SVersionNumber = styled.div`\r\n  position: absolute;\r\n  font-size: 12px;\r\n  bottom: 6%;\r\n  right: 0;\r\n  opacity: 0.3;\r\n  transform: rotate(-90deg);\r\n`;\r\n\r\nconst SContent = styled.div`\r\n  width: 100%;\r\n  flex: 1;\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst SLogo = styled.div`\r\n  padding: 10px 0;\r\n  display: flex;\r\n  max-height: 100px;\r\n  & img {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst SActions = styled.div`\r\n  margin: 0;\r\n  margin-top: 20px;\r\n\r\n  display: flex;\r\n  justify-content: space-around;\r\n  & > * {\r\n    margin: 0 5px;\r\n  }\r\n`;\r\n\r\nconst SActionsColumn = styled(SActions as any)`\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  margin: 24px 0 6px;\r\n\r\n  & > p {\r\n    font-weight: 600;\r\n  }\r\n`;\r\n\r\nconst SButton = styled(Button)`\r\n  width: 50%;\r\n  height: 40px;\r\n`;\r\n\r\nconst SInput = styled(Input)`\r\n  width: 50%;\r\n  margin: 10px;\r\n  font-size: 14px;\r\n  height: 40px;\r\n`;\r\n\r\nconst SConnectedPeer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  & img {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  & > div {\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\nconst SRequestButton = styled(RequestButton)`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport interface IAppState {\r\n  loading: boolean;\r\n  scanner: boolean;\r\n  connector: WalletConnect | null;\r\n  uri: string;\r\n  peerMeta: {\r\n    description: string;\r\n    url: string;\r\n    icons: string[];\r\n    name: string;\r\n    ssl: boolean;\r\n  };\r\n  connected: boolean;\r\n  chainId: number;\r\n  accounts: string[];\r\n  activeIndex: number;\r\n  address: string;\r\n  requests: any[];\r\n  results: any[];\r\n  payload: any;\r\n}\r\n\r\nexport const DEFAULT_ACCOUNTS = getAppControllers().wallet.getAccounts();\r\nexport const DEFAULT_ADDRESS = DEFAULT_ACCOUNTS[DEFAULT_ACTIVE_INDEX];\r\n\r\nexport const INITIAL_STATE: IAppState = {\r\n  loading: false,\r\n  scanner: false,\r\n  connector: null,\r\n  uri: \"\",\r\n  peerMeta: {\r\n    description: \"\",\r\n    url: \"\",\r\n    icons: [],\r\n    name: \"\",\r\n    ssl: false,\r\n  },\r\n  connected: false,\r\n  chainId: getAppConfig().chainId || DEFAULT_CHAIN_ID,\r\n  accounts: DEFAULT_ACCOUNTS,\r\n  address: DEFAULT_ADDRESS,\r\n  activeIndex: DEFAULT_ACTIVE_INDEX,\r\n  requests: [],\r\n  results: [],\r\n  payload: null,\r\n};\r\n\r\nclass App extends React.Component<{}> {\r\n  public state: IAppState;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      ...INITIAL_STATE,\r\n    };\r\n  }\r\n  public componentDidMount() {\r\n    this.init();\r\n  }\r\n\r\n  public init = async () => {\r\n    let { activeIndex, chainId } = this.state;\r\n\r\n    const session = getCachedSession();\r\n\r\n    if (!session) {\r\n      await getAppControllers().wallet.init(activeIndex, chainId);\r\n    } else {\r\n      const connector = new WalletConnect({ session });\r\n\r\n      const { connected, accounts, peerMeta } = connector;\r\n\r\n      const address = accounts[0];\r\n\r\n      activeIndex = accounts.indexOf(address);\r\n      chainId = connector.chainId;\r\n\r\n      await getAppControllers().wallet.init(activeIndex, chainId);\r\n\r\n      await this.setState({\r\n        connected,\r\n        connector,\r\n        address,\r\n        activeIndex,\r\n        accounts,\r\n        chainId,\r\n        peerMeta,\r\n      });\r\n\r\n      this.subscribeToEvents();\r\n    }\r\n    await getAppConfig().events.init(this.state, this.bindedSetState);\r\n  };\r\n\r\n  public bindedSetState = (newState: Partial<IAppState>) => this.setState(newState);\r\n\r\n  public initWalletConnect = async () => {\r\n    const { uri } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n\r\n    try {\r\n      const connector = new WalletConnect({ uri });\r\n\r\n      if (!connector.connected) {\r\n        await connector.createSession();\r\n      }\r\n\r\n      await this.setState({\r\n        loading: false,\r\n        connector,\r\n        uri: connector.uri,\r\n      });\r\n\r\n      this.subscribeToEvents();\r\n    } catch (error) {\r\n      this.setState({ loading: false });\r\n\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  public approveSession = () => {\r\n    console.log(\"ACTION\", \"approveSession\");\r\n    const { connector, chainId, address } = this.state;\r\n    if (connector) {\r\n      connector.approveSession({ chainId, accounts: [address] });\r\n    }\r\n    this.setState({ connector });\r\n  };\r\n\r\n  public rejectSession = () => {\r\n    console.log(\"ACTION\", \"rejectSession\");\r\n    const { connector } = this.state;\r\n    if (connector) {\r\n      connector.rejectSession();\r\n    }\r\n    this.setState({ connector });\r\n  };\r\n\r\n  public killSession = () => {\r\n    console.log(\"ACTION\", \"killSession\");\r\n    const { connector } = this.state;\r\n    if (connector) {\r\n      connector.killSession();\r\n    }\r\n    this.resetApp();\r\n  };\r\n\r\n  public resetApp = async () => {\r\n    await this.setState({ ...INITIAL_STATE });\r\n    this.init();\r\n  };\r\n\r\n  public subscribeToEvents = () => {\r\n    console.log(\"ACTION\", \"subscribeToEvents\");\r\n    const { connector } = this.state;\r\n\r\n    if (connector) {\r\n      connector.on(\"session_request\", (error, payload) => {\r\n        console.log(\"EVENT\", \"session_request\");\r\n\r\n        if (error) {\r\n          throw error;\r\n        }\r\n        console.log(\"SESSION_REQUEST\", payload.params);\r\n        const { peerMeta } = payload.params[0];\r\n        this.setState({ peerMeta });\r\n      });\r\n\r\n      connector.on(\"session_update\", error => {\r\n        console.log(\"EVENT\", \"session_update\");\r\n\r\n        if (error) {\r\n          throw error;\r\n        }\r\n      });\r\n\r\n      connector.on(\"call_request\", async (error, payload) => {\r\n        // tslint:disable-next-line\r\n        console.log(\"EVENT\", \"call_request\", \"method\", payload.method);\r\n        console.log(\"EVENT\", \"call_request\", \"params\", payload.params);\r\n\r\n        if (error) {\r\n          throw error;\r\n        }\r\n\r\n        await getAppConfig().rpcEngine.router(payload, this.state, this.bindedSetState);\r\n      });\r\n\r\n      connector.on(\"connect\", (error, payload) => {\r\n        console.log(\"EVENT\", \"connect\");\r\n\r\n        if (error) {\r\n          throw error;\r\n        }\r\n\r\n        this.setState({ connected: true });\r\n      });\r\n\r\n      connector.on(\"disconnect\", (error, payload) => {\r\n        console.log(\"EVENT\", \"disconnect\");\r\n\r\n        if (error) {\r\n          throw error;\r\n        }\r\n\r\n        this.resetApp();\r\n      });\r\n\r\n      if (connector.connected) {\r\n        const { chainId, accounts } = connector;\r\n        const index = 0;\r\n        const address = accounts[index];\r\n        getAppControllers().wallet.update(index, chainId);\r\n        this.setState({\r\n          connected: true,\r\n          address,\r\n          chainId,\r\n        });\r\n      }\r\n\r\n      this.setState({ connector });\r\n    }\r\n  };\r\n\r\n  public updateSession = async (sessionParams: { chainId?: number; activeIndex?: number }) => {\r\n    const { connector, chainId, accounts, activeIndex } = this.state;\r\n    const newChainId = sessionParams.chainId || chainId;\r\n    const newActiveIndex = sessionParams.activeIndex || activeIndex;\r\n    const address = accounts[newActiveIndex];\r\n    if (connector) {\r\n      connector.updateSession({\r\n        chainId: newChainId,\r\n        accounts: [address],\r\n      });\r\n    }\r\n    await this.setState({\r\n      connector,\r\n      address,\r\n      accounts,\r\n      activeIndex: newActiveIndex,\r\n      chainId: newChainId,\r\n    });\r\n    await getAppControllers().wallet.update(newActiveIndex, newChainId);\r\n    await getAppConfig().events.update(this.state, this.bindedSetState);\r\n  };\r\n\r\n  public updateChain = async (chainId: number | string) => {\r\n    await this.updateSession({ chainId: Number(chainId) });\r\n  };\r\n\r\n  public updateAddress = async (activeIndex: number) => {\r\n    await this.updateSession({ activeIndex });\r\n  };\r\n\r\n  public toggleScanner = () => {\r\n    console.log(\"ACTION\", \"toggleScanner\");\r\n    this.setState({ scanner: !this.state.scanner });\r\n  };\r\n\r\n  public onQRCodeValidate = (data: string): IQRCodeValidateResponse => {\r\n    const res: IQRCodeValidateResponse = {\r\n      error: null,\r\n      result: null,\r\n    };\r\n    try {\r\n      res.result = data;\r\n    } catch (error) {\r\n      res.error = error;\r\n    }\r\n\r\n    return res;\r\n  };\r\n\r\n  public onQRCodeScan = async (data: any) => {\r\n    const uri = typeof data === \"string\" ? data : \"\";\r\n    if (uri) {\r\n      await this.setState({ uri });\r\n      await this.initWalletConnect();\r\n      this.toggleScanner();\r\n    }\r\n  };\r\n\r\n  public onURIPaste = async (e: any) => {\r\n    const data = e.target.value;\r\n    const uri = typeof data === \"string\" ? data : \"\";\r\n    if (uri) {\r\n      await this.setState({ uri });\r\n      await this.initWalletConnect();\r\n    }\r\n  };\r\n\r\n  public onQRCodeError = (error: Error) => {\r\n    throw error;\r\n  };\r\n\r\n  public onQRCodeClose = () => this.toggleScanner();\r\n\r\n  public openRequest = async (request: any) => {\r\n    const payload = Object.assign({}, request);\r\n\r\n    const params = payload.params[0];\r\n    if (request.method === \"eth_sendTransaction\") {\r\n      payload.params[0] = await getAppControllers().wallet.populateTransaction(params);\r\n    }\r\n\r\n    this.setState({\r\n      payload,\r\n    });\r\n  };\r\n\r\n  public closeRequest = async () => {\r\n    const { requests, payload } = this.state;\r\n    const filteredRequests = requests.filter(request => request.id !== payload.id);\r\n    await this.setState({\r\n      requests: filteredRequests,\r\n      payload: null,\r\n    });\r\n  };\r\n\r\n  public approveRequest = async () => {\r\n    const { connector, payload } = this.state;\r\n\r\n    try {\r\n      await getAppConfig().rpcEngine.signer(payload, this.state, this.bindedSetState);\r\n    } catch (error) {\r\n      console.error(error);\r\n      if (connector) {\r\n        connector.rejectRequest({\r\n          id: payload.id,\r\n          error: { message: \"Failed or Rejected Request\" },\r\n        });\r\n      }\r\n    }\r\n\r\n    this.closeRequest();\r\n    await this.setState({ connector });\r\n  };\r\n\r\n  public rejectRequest = async () => {\r\n    const { connector, payload } = this.state;\r\n    if (connector) {\r\n      connector.rejectRequest({\r\n        id: payload.id,\r\n        error: { message: \"Failed or Rejected Request\" },\r\n      });\r\n    }\r\n    await this.closeRequest();\r\n    await this.setState({ connector });\r\n  };\r\n\r\n  public render() {\r\n    const {\r\n      peerMeta,\r\n      scanner,\r\n      connected,\r\n      activeIndex,\r\n      accounts,\r\n      address,\r\n      chainId,\r\n      requests,\r\n      payload,\r\n    } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <SContainer>\r\n          <Header\r\n            connected={connected}\r\n            address={address}\r\n            chainId={chainId}\r\n            killSession={this.killSession}\r\n          />\r\n          <SContent>\r\n            <Card maxWidth={400}>\r\n              <SLogo>\r\n                <img src={getAppConfig().logo} alt={getAppConfig().name} />\r\n              </SLogo>\r\n              {!connected ? (\r\n                peerMeta && peerMeta.name ? (\r\n                  <Column>\r\n                    <PeerMeta peerMeta={peerMeta} />\r\n                    <SActions>\r\n                      <Button onClick={this.approveSession}>{`Approve`}</Button>\r\n                      <Button onClick={this.rejectSession}>{`Reject`}</Button>\r\n                    </SActions>\r\n                  </Column>\r\n                ) : (\r\n                  <Column>\r\n                    <AccountDetails\r\n                      chains={getAppConfig().chains}\r\n                      address={address}\r\n                      activeIndex={activeIndex}\r\n                      chainId={chainId}\r\n                      accounts={accounts}\r\n                      updateAddress={this.updateAddress}\r\n                      updateChain={this.updateChain}\r\n                    />\r\n                    <SActionsColumn>\r\n                      <SButton onClick={this.toggleScanner}>{`Scan`}</SButton>\r\n                      {getAppConfig().styleOpts.showPasteUri && (\r\n                        <>\r\n                          <p>{\"OR\"}</p>\r\n                          <SInput onChange={this.onURIPaste} placeholder={\"Paste wc: uri\"} />\r\n                        </>\r\n                      )}\r\n                    </SActionsColumn>\r\n                  </Column>\r\n                )\r\n              ) : !payload ? (\r\n                <Column>\r\n                  <AccountDetails\r\n                    chains={getAppConfig().chains}\r\n                    address={address}\r\n                    activeIndex={activeIndex}\r\n                    chainId={chainId}\r\n                    accounts={accounts}\r\n                    updateAddress={this.updateAddress}\r\n                    updateChain={this.updateChain}\r\n                  />\r\n                  {peerMeta && peerMeta.name && (\r\n                    <>\r\n                      <h6>{\"Connected to\"}</h6>\r\n                      <SConnectedPeer>\r\n                        <img src={peerMeta.icons[0]} alt={peerMeta.name} />\r\n                        <div>{peerMeta.name}</div>\r\n                      </SConnectedPeer>\r\n                    </>\r\n                  )}\r\n                  <h6>{\"Pending Call Requests\"}</h6>\r\n                  {requests.length ? (\r\n                    requests.map(request => (\r\n                      <SRequestButton key={request.id} onClick={() => this.openRequest(request)}>\r\n                        <div>{request.method}</div>\r\n                      </SRequestButton>\r\n                    ))\r\n                  ) : (\r\n                    <div>\r\n                      <div>{\"No pending requests\"}</div>\r\n                    </div>\r\n                  )}\r\n                </Column>\r\n              ) : (\r\n                <RequestDisplay\r\n                  payload={payload}\r\n                  peerMeta={peerMeta}\r\n                  renderPayload={(payload: any) => getAppConfig().rpcEngine.render(payload)}\r\n                  approveRequest={this.approveRequest}\r\n                  rejectRequest={this.rejectRequest}\r\n                />\r\n              )}\r\n            </Card>\r\n          </SContent>\r\n          {scanner && (\r\n            <QRCodeScanner\r\n              onValidate={this.onQRCodeValidate}\r\n              onScan={this.onQRCodeScan}\r\n              onError={this.onQRCodeError}\r\n              onClose={this.onQRCodeClose}\r\n            />\r\n          )}\r\n        </SContainer>\r\n        {getAppConfig().styleOpts.showVersion && (\r\n          <SVersionNumber>{`v${process.env.REACT_APP_VERSION}`} </SVersionNumber>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nimport App from \"./App\";\r\nimport { globalStyle } from \"./styles\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  ${globalStyle}\r\n`;\r\n\r\nReactDOM.render(\r\n  <>\r\n    <GlobalStyle />\r\n    <App />\r\n  </>,\r\n  document.getElementById(\"root\"),\r\n);\r\n","export let local: Storage;\r\n\r\nif (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\") {\r\n  local = window.localStorage;\r\n}\r\n\r\nexport function setLocal(key: string, data: any) {\r\n  const jsonData = JSON.stringify(data);\r\n  if (local) {\r\n    local.setItem(key, jsonData);\r\n  }\r\n}\r\n\r\nexport function getLocal(key: string) {\r\n  let data = null;\r\n  let raw = null;\r\n  if (local) {\r\n    raw = local.getItem(key);\r\n  }\r\n  if (raw && typeof raw === \"string\") {\r\n    try {\r\n      data = JSON.parse(raw);\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n  return data;\r\n}\r\n\r\nexport function removeLocal(key: string) {\r\n  if (local) {\r\n    local.removeItem(key);\r\n  }\r\n}\r\n\r\nexport function updateLocal(key: string, data: any) {\r\n  const localData = getLocal(key) || {};\r\n  const mergedData = { ...localData, ...data };\r\n  setLocal(key, mergedData);\r\n}\r\n","import { IChainData } from \"../helpers/types\";\r\n\r\nexport const SUPPORTED_CHAINS: IChainData[] = [\r\n  {\r\n    name: \"Boba Rinkeby\",\r\n    short_name: \"eth\",\r\n    chain: \"Boba\",\r\n    network: \"testnet\",\r\n    chain_id: 28,\r\n    network_id: 28,\r\n    rpc_url: \"https://rinkeby.boba.network/\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ethereum\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ethereum Mainnet\",\r\n    short_name: \"eth\",\r\n    chain: \"ETH\",\r\n    network: \"mainnet\",\r\n    chain_id: 1,\r\n    network_id: 1,\r\n    rpc_url: \"https://mainnet.infura.io/v3/%API_KEY%\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ether\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ethereum Ropsten\",\r\n    short_name: \"rop\",\r\n    chain: \"ETH\",\r\n    network: \"ropsten\",\r\n    chain_id: 3,\r\n    network_id: 3,\r\n    rpc_url: \"https://ropsten.infura.io/v3/%API_KEY%\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ether\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ethereum Rinkeby\",\r\n    short_name: \"rin\",\r\n    chain: \"ETH\",\r\n    network: \"rinkeby\",\r\n    chain_id: 4,\r\n    network_id: 4,\r\n    rpc_url: \"https://rinkeby.infura.io/v3/%API_KEY%\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ether\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ethereum Görli\",\r\n    short_name: \"gor\",\r\n    chain: \"ETH\",\r\n    network: \"goerli\",\r\n    chain_id: 5,\r\n    network_id: 5,\r\n    rpc_url: \"https://goerli.infura.io/v3/%API_KEY%\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ether\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"RSK Mainnet\",\r\n    short_name: \"rsk\",\r\n    chain: \"RSK\",\r\n    network: \"mainnet\",\r\n    chain_id: 30,\r\n    network_id: 30,\r\n    rpc_url: \"https://public-node.rsk.co\",\r\n    native_currency: {\r\n      symbol: \"R-BTC\",\r\n      name: \"Smart Bitcoin\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"RSK Testnet\",\r\n    short_name: \"trsk\",\r\n    chain: \"tRSK\",\r\n    network: \"testnet\",\r\n    chain_id: 31,\r\n    network_id: 31,\r\n    rpc_url: \"https://public-node.testnet.rsk.co\",\r\n    native_currency: {\r\n      symbol: \"tR-BTC\",\r\n      name: \"tSmart Bitcoin\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ethereum Kovan\",\r\n    short_name: \"kov\",\r\n    chain: \"ETH\",\r\n    network: \"kovan\",\r\n    chain_id: 42,\r\n    network_id: 42,\r\n    rpc_url: \"https://kovan.infura.io/v3/%API_KEY%\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ether\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ethereum Classic Mainnet\",\r\n    short_name: \"etc\",\r\n    chain: \"ETC\",\r\n    network: \"mainnet\",\r\n    chain_id: 61,\r\n    network_id: 1,\r\n    rpc_url: \"https://ethereumclassic.network\",\r\n    native_currency: {\r\n      symbol: \"ETH\",\r\n      name: \"Ether Classic\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"POA Network Sokol\",\r\n    short_name: \"poa\",\r\n    chain: \"POA\",\r\n    network: \"sokol\",\r\n    chain_id: 77,\r\n    network_id: 77,\r\n    rpc_url: \"https://sokol.poa.network\",\r\n    native_currency: {\r\n      symbol: \"POA\",\r\n      name: \"POA\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"POA Network Core\",\r\n    short_name: \"skl\",\r\n    chain: \"POA\",\r\n    network: \"core\",\r\n    chain_id: 99,\r\n    network_id: 99,\r\n    rpc_url: \"https://core.poa.network\",\r\n    native_currency: {\r\n      symbol: \"POA\",\r\n      name: \"POA\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"xDAI Chain\",\r\n    short_name: \"xdai\",\r\n    chain: \"POA\",\r\n    network: \"dai\",\r\n    chain_id: 100,\r\n    network_id: 100,\r\n    rpc_url: \"https://dai.poa.network\",\r\n    native_currency: {\r\n      symbol: \"xDAI\",\r\n      name: \"xDAI\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Callisto Mainnet\",\r\n    short_name: \"clo\",\r\n    chain: \"callisto\",\r\n    network: \"mainnet\",\r\n    chain_id: 820,\r\n    network_id: 1,\r\n    rpc_url: \"https://clo-geth.0xinfra.com/\",\r\n    native_currency: {\r\n      symbol: \"CLO\",\r\n      name: \"CLO\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"ARTIS sigma1\",\r\n    short_name: \"artis-s1\",\r\n    chain: \"ATS\",\r\n    network: \"artis-s1\",\r\n    chain_id: 246529,\r\n    network_id: 246529,\r\n    rpc_url: \"https://rpc.sigma1.artis.network\",\r\n    native_currency: {\r\n      symbol: \"ATS\",\r\n      name: \"ATS\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"ARTIS tau1\",\r\n    short_name: \"artis-t1\",\r\n    chain: \"ATS\",\r\n    network: \"artis-t1\",\r\n    chain_id: 246785,\r\n    network_id: 246785,\r\n    rpc_url: \"https://rpc.tau1.artis.network\",\r\n    native_currency: {\r\n      symbol: \"ATS\",\r\n      name: \"ATS\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Eraswap Mainnet Network\",\r\n    short_name: \"ESN\",\r\n    chain: \"ESN\",\r\n    network: \"mainnet\",\r\n    chain_id: 5197,\r\n    network_id: 5197,\r\n    rpc_url: \"https://rpc-mumbai.mainnet.eraswap.network\",\r\n    native_currency: {\r\n      symbol: \"ES\",\r\n      name: \"eraswap\",\r\n      decimals: \"18\",\r\n      contractAddress: \"\",\r\n      balance: \"\",\r\n    },\r\n  },\r\n];\r\n","export * from \"./chains\";\r\nexport * from \"./default\";\r\n"],"sourceRoot":""}